-- -*- lua -*-

local net = require("net")
local vfs = require("vfs")

local args = {...}

local timeout = 3
local host = net.dns.resolve(nfs.protocol, args[1] or "srv")
local dir = nil

local m = net.rpc.rpc(vfs.nfs.protocol, host, { timeout=timeout, }, "showmounts", dir)
for i,v in ipairs(m) do
	print(tostring(v.dir).." "..tostring(v.host))
end
